migration:
  versions:
    - version: setup
      operations:
        pre:
          ## For version >= 12.0
          - odoo -i base --stop-after-init --workers=0 --no-xmlrpc
          - anthem songs.install.pre::main
        post:
          ## PLATFORM
          ## Choose between the two options : ovh or exoscale
          - anthem openerp.addons.cloud_platform.songs::install_exoscale
          #- anthem openerp.addons.cloud_platform.songs::install_ovh
          #- anthem songs.install.accounting::main
          #- anthem songs.install.logistics::main
          #- anthem songs.install.data_all::main
          - anthem songs.install.email::main
      modes:
        full:
          operations:
            post:
              - anthem songs.install.data_full::main
              #### import heavy stuff
              #- importer.sh songs.install.inventory::setup_locations /odoo/data/install/stock.location.csv
              #- anthem songs.install.inventory::location_compute_parents
        sample:
          operations:
            post:
              - anthem songs.sample.data_sample::main
      addons:
        upgrade:
          ## PLATFORM
          - cloud_platform_exoscale
          #### oca/server-env
          - server_environment
          - server_environment_ir_config_parameter
          - mail_environment
          #### oca/server-ux
          # - base_technical_features
          #### oca/web
          - web_environment_ribbon
          #### oca/hr
          - hr_attendance_report_theoretical_time
          #### oca/partner-contact
          - partner_firstname
          - partner_company_group
          #### oca/management-system
          - document_page_work_instruction
          - mgmtsystem
          - mgmtsystem_survey
          #### core
          - calendar
          - contacts
          - crm
          - helpdesk
          - hr
          - hr_appraisal
          - hr_attendance
          - hr_expense
          - hr_holidays
          - hr_recruitment
          - mail
          #### camptocamp/odoo-dj
          # - base_dj
          #### local-src
          - cosanum_hr
          - cosanum_contact
          - cosanum_helpdesk
          - cosanum_crm
    # update step example
    # - version: 12.0.x.y.z
    #   addons:
    #     upgrade:
    #       - foo_module
    #       - baz_module
    #   operations:
    #     post:
    #       - anthem songs.updates.update_10_0_x_y_z::main
    - version: 12.0.0.1.0
    - version: 12.0.1.0.0
      addons:
        upgrade:
          - base
    - version: 12.0.1.1.0
      addons:
        upgrade:
          - base
          - mail_environment
    - version: 12.0.1.2.0
      addons:
        upgrade:
          #### local-src
          - cosanum_hr
          #### core
          - base
          #### OCA
          - hr_attendance_report_theoretical_time
    - version: 12.0.1.2.1
    - version: 12.0.1.3.0
    - version: 12.0.1.3.1
    - version: 12.0.1.3.2
      addons:
        upgrade:
          #### oca/account-closing
          - account_multicurrency_revaluation
          #### oca/hr
          - hr_attendance_report_theoretical_time
          #### oca/l10n-switzerland
          - l10n_ch
          - l10n_ch_mis_reports
          - l10n_ch_zip
          - l10n_ch_states
          - l10n_ch_bank
          - l10n_ch_base_bank
          #### oca/mis-builder
          - mis_builder_budget
          - mis_builder
          #### oca/partner-contact
          - partner_firstname
          - partner_company_group
          #### local-src
          - cosanum_hr
          - cosanum_contact
          - cosanum_crm
          - cosanum_helpdesk
          #### enterprise
          - l10n_ch_reports
          - account_accountant
          - documents
          - account_deferred_revenue
          #### core
          - base
          - account_cancel
      modes:
        full:
          operations:
            pre:
              - anthem songs.updates.update_12_0_1_3_0::full
              - anthem songs.install.email::main
    - version: 12.0.1.4.0
      addons:
        upgrade:
          #### local-src
          - cosanum_contact
          #### oca/management-system
          - document_page_work_instruction
          - mgmtsystem
          - mgmtsystem_survey
          - mgmtsystem_action
